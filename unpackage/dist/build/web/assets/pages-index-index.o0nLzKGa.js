import{s as a,e,c as o,a as t,w as l,b as s,d as r,F as n,i,o as c,f as u,t as d,g as m,h as f,I as g,j as p,k as h,l as b}from"./index-DWDmCve2.js";import{_ as k}from"./_plugin-vue_export-helper.BCo6x5W8.js";const _=k({data:()=>({form:{trackingNumber:"",courier:"",remark:""},courierCompanies:["顺丰速运","圆通快递","中通快递","韵达快递","京东物流","邮政快递"],loading:!1}),onLoad(){},methods:{onCourierChange(a){this.form.courier=this.courierCompanies[a.detail.value]},onTrackingNumberInput(a){const e=a.detail.value.replace(/[^\u0000-\u007F]/g,"");this.$nextTick((()=>{this.form.trackingNumber=e}))},async onSubmit(){if(!this.loading){if(this.loading=!0,!this.form.trackingNumber.trim())return a({title:"请填写快递单号",icon:"none"}),void(this.loading=!1);if(!this.form.courier)return a({title:"请选择快递公司",icon:"none"}),void(this.loading=!1);try{const o={...this.form,status:"待处理"},t=await e.callFunction({name:"feedback",data:o});200===t.result.code?(a({title:"提交成功"}),this.form={trackingNumber:"",courier:"",remark:""}):(t.result.code,a({title:t.result.message||"提交失败",icon:"none"}))}catch(o){a({title:"网络错误，请重试",icon:"none"})}finally{this.loading=!1}}}}},[["render",function(a,e,k,_,C,N){const v=m,x=i,I=f,V=g,y=p,F=h,j=b;return c(),o(n,null,[t(x,{class:"content"},{default:l((()=>[t(x,{class:"logo-container"},{default:l((()=>[t(v,{class:"logo",src:"/assets/logo-BbwNJZ2J.png",mode:"aspectFit"})])),_:1}),t(x,{class:"form-container"},{default:l((()=>[t(x,{class:"form-item"},{default:l((()=>[t(I,{class:"label"},{default:l((()=>[u("快递单号")])),_:1}),t(V,{class:"input",modelValue:C.form.trackingNumber,"onUpdate:modelValue":e[0]||(e[0]=a=>C.form.trackingNumber=a),placeholder:"请输入快递单号",onInput:N.onTrackingNumberInput},null,8,["modelValue","onInput"])])),_:1}),t(x,{class:"form-item"},{default:l((()=>[t(I,{class:"label"},{default:l((()=>[u("快递公司")])),_:1}),t(y,{class:"picker",mode:"selector",range:C.courierCompanies,onChange:N.onCourierChange},{default:l((()=>[t(x,{class:"picker-text"},{default:l((()=>[u(d(C.form.courier||"请选择快递公司"),1)])),_:1})])),_:1},8,["range","onChange"])])),_:1}),t(x,{class:"form-item"},{default:l((()=>[t(I,{class:"label"},{default:l((()=>[u("备注")])),_:1}),t(F,{class:"textarea",modelValue:C.form.remark,"onUpdate:modelValue":e[1]||(e[1]=a=>C.form.remark=a),placeholder:"请输入备注"},null,8,["modelValue"])])),_:1}),t(j,{class:"submit-btn",onClick:N.onSubmit},{default:l((()=>[t(I,null,{default:l((()=>[u("提交")])),_:1})])),_:1},8,["onClick"])])),_:1})])),_:1}),C.loading?(c(),s(x,{key:0,class:"global-loading"},{default:l((()=>[t(x,{class:"loading"})])),_:1})):r("",!0)],64)}],["__scopeId","data-v-ba5dc659"]]);export{_ as default};
